const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CjK7DQ4s.js","assets/index-CH3jafte.css","assets/DeepDetailPage-CFrO7CRr.js"])))=>i.map(i=>d[i]);
import{r as e,a as s,b as t,j as a,d as r,_ as l}from"./index-CjK7DQ4s.js";const i=()=>{const[i,d]=e.useState(""),[o,c]=e.useState(""),n=s(),m=e.useMemo(()=>{const e=new Set;return t.forEach(s=>e.add(s.category)),Array.from(e)},[]),p=e.useMemo(()=>{const e=i.trim().toLowerCase();return t.filter(s=>(!o||s.category===o)&&(!e||(s.title.toLowerCase().includes(e)||s.teaser.toLowerCase().includes(e)||s.description.toLowerCase().includes(e)||(s.subtopics||[]).some(s=>(s.title+" "+s.summary+" "+s.content).toLowerCase().includes(e)))))},[i,o]),x=e=>n(`/chapter/${e}/deep`);return a.jsxs("div",{className:"max-w-6xl mx-auto p-6 md:p-12",children:[a.jsxs("header",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-serif font-bold mb-2",children:"Knowledge Library"}),a.jsx("p",{className:"text-muted opacity-80",children:"Browse topics and subtopics. Use search and filters to find what you want to read in depth — all inside the site."})]}),a.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4 items-stretch md:items-center",children:[a.jsx("input",{"aria-label":"Search the library",className:"flex-1 px-4 py-3 rounded-lg border focus:outline-none",placeholder:"Search topics, examples, subtopics...",value:i,onChange:e=>d(e.target.value)}),a.jsxs("select",{"aria-label":"Filter by category",className:"px-4 py-3 rounded-lg border",value:o,onChange:e=>c(e.target.value),children:[a.jsx("option",{value:"",children:"All categories"}),m.map(e=>a.jsx("option",{value:e,children:e},e))]}),a.jsx("button",{onClick:()=>{d(""),c("")},className:"px-4 py-3 rounded-lg border bg-white hover:opacity-90",children:"Clear"})]}),a.jsxs("div",{className:"grid gap-6",children:[p.map(e=>a.jsxs("article",{className:"p-6 rounded-lg shadow-sm bg-white border",style:{borderColor:r.border},children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-semibold mb-1",children:e.title}),a.jsx("p",{className:"opacity-80 text-sm mb-3",children:e.teaser}),a.jsx("p",{className:"text-sm opacity-80 mb-4",children:e.description}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onMouseEnter:()=>{l(()=>import("./index-CjK7DQ4s.js").then(e=>e.e),__vite__mapDeps([0,1]))},onClick:()=>{return s=e.id,n(`/chapter/${s}`);var s},className:"px-3 py-2 rounded-md border",children:"Open"}),a.jsx("button",{onMouseEnter:()=>{l(()=>import("./DeepDetailPage-CFrO7CRr.js"),__vite__mapDeps([2,0,1]))},onClick:()=>x(e.id),className:"px-3 py-2 rounded-md bg-gradient-to-r from-indigo-500 to-violet-500 text-white",children:"Read in depth"})]})]}),a.jsxs("div",{className:"w-48 hidden md:block text-right",children:[a.jsx("p",{className:"text-xs opacity-60",children:"Category"}),a.jsx("p",{className:"font-medium",children:e.category}),a.jsx("p",{className:"mt-4 text-xs opacity-60",children:"Subtopics"}),a.jsx("p",{className:"font-medium",children:(e.subtopics||[]).length})]})]}),(e.subtopics||[]).length>0&&a.jsx("div",{className:"mt-6 border-t pt-4 grid gap-4",children:(e.subtopics||[]).slice(0,4).map(s=>a.jsxs("details",{className:"rounded-md bg-gray-50 p-3",children:[a.jsxs("summary",{className:"cursor-pointer font-medium",children:[s.title," ",a.jsxs("span",{className:"ml-2 text-xs opacity-70",children:["— ",s.summary]})]}),a.jsxs("div",{className:"mt-3 text-sm leading-relaxed",children:[a.jsx("div",{dangerouslySetInnerHTML:{__html:s.svg||""}}),a.jsx("div",{className:"mt-2",children:s.content}),s.examples&&a.jsx("ul",{className:"list-disc pl-5 mt-2 text-sm",children:s.examples.map((e,s)=>a.jsx("li",{children:e},s))}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsx("button",{onMouseEnter:()=>{l(()=>import("./DeepDetailPage-CFrO7CRr.js"),__vite__mapDeps([2,0,1]))},onClick:()=>x(e.id),className:"px-3 py-1 rounded-md text-sm border",children:"Read chapter"}),a.jsx("button",{onMouseEnter:()=>{l(()=>import("./DeepDetailPage-CFrO7CRr.js"),__vite__mapDeps([2,0,1]))},onClick:()=>n(`/chapter/${e.id}/deep#${s.id}`),className:"px-3 py-1 rounded-md bg-indigo-600 text-white text-sm",children:"Open subtopic"})]})]})]},s.id))})]},e.id)),0===p.length&&a.jsx("p",{className:"opacity-60",children:"No results found. Try a different search term or clear filters."})]})]})};export{i as default};
